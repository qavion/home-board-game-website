## データベース設計

* 画像データには ストレージの S3 を利用する
* メタデータには noSQLの DynamoDB を利用する

## ボードゲーム画像データ

Amazon S3 に格納する。

### S3 構造

```sh
{配信用バケット}/
 └── images/
      ├── original/   # 管理者がアップロードした元画像
      ├── resized-m/  # アップロードされた画像を自動で中サイズにリサイズした画像
      └── resized-s/  # アップロードされた画像を自動で小サイズにリサイズした画像
```


## ボードゲームメタデータ

Amazon DynamoDB に以下の形式で格納する。

### JSON形式での例と説明

```jsonc
{
    "id": 1, // ID [パーティションキー] （サーバー側で自動採番）
    "title_kana": "いんさいだーげーむ", // タイトルひらがな [ソートキー]
    "title": "インサイダーゲーム", // タイトル
    "genre": ["正体隠匿", "パーティー", "推理"], // ジャンル
    "tags": ["Oink Games", "オインクゲームズ"], // タグ（検索に利用する。タイトルの言い換え、略称、販売元など）
    "images": ["01_01.jpg", "01_02.jpg"], // 画像の S3 ファイル名リスト
    "description": "あなたは、操られている。クイズと正体探し、2つの楽しさが絶妙にマッチした、短時間でみんなが盛り上がれる会話ゲーム。", // 説明
    "rules": "クイズと正体探し、ふたつの楽しさが絶妙にマッチした、短時間でみんなが盛り上がれる会話ゲーム。会話で進めていくクイズの中、陰で議論を思い通りに操作している狡猾なインサイダーが紛れこんでいます。インサイダーは、正体を隠しながら世論をうまく導こうとしているのです....！", // ルール概要
    "playerCount": {
        "min": 4, // 最小プレイ人数
        "max": 8, // 最大プレイ人数
        "text": "4-8人" // プレイ人数表記
    },
    "playTime": {
        "min": 15, // 最小プレイ時間
        "max": 15, // 最大プレイ時間
        "text": "約15分" // プレイ時間表記
    },
    "age": {
        "min": 9, // 推奨年齢
        "text": "9歳以上" // 推奨年齢表記
    },
    "difficulty": "中級", // 難しさ
    "recommendation": 4.5, // おすすめ度
    "arrivalDate": "2024-11-16" // 入荷日
    "lastModified": "2024-12-29T07:34:50.726143+00:00", // データ最終更新日（サーバー側で自動生成）
    "created": "2024-12-29T07:34:50.726143+00:00", // データ作成日（サーバー側で自動生成）
}
```

### DynamoDB JSON 形式

```json
{
  "id": { "N": "1" },
  "title_kana": { "S": "いんさいだーげーむ" },
  "title": { "S": "インサイダーゲーム" },
  "genre": { "SS": ["正体隠匿", "パーティー", "推理"] },
  "tags": { "SS": ["いんさいだーげーむ", "Oink Games", "オインクゲームズ"] },
  "images": { "SS": ["01_01.jpg", "01_02.jpg"] },
  "description": { "S": "あなたは、操られている。クイズと正体探し、2つの楽しさが絶妙にマッチした、短時間でみんなが盛り上がれる会話ゲーム。" },
  "rules": { "S": "クイズと正体探し、ふたつの楽しさが絶妙にマッチした、短時間でみんなが盛り上がれる会話ゲーム。会話で進めていくクイズの中、陰で議論を思い通りに操作している狡猾なインサイダーが紛れこんでいます。インサイダーは、正体を隠しながら世論をうまく導こうとしているのです....！" },
  "playerCount": { "M": { "min": { "N": "4" }, "max": { "N": "8" }, "text": { "S": "4-8人" } } },
  "playTime": { "M": { "min": { "N": "15" }, "max": { "N": "15" }, "text": { "S": "約15分" } } },
  "age": { "M": { "min": { "N": "9" }, "text": { "S": "9歳以上" } } },
  "difficulty": { "S": "中級" },
  "arrivalDate": { "S": "2024-11-16" },
  "recommendation": { "N": "4.5" },
  "lastModified": { "S": "2024-12-29T07:34:50.726143+00:00" },
  "created": { "S": "2024-12-29T07:34:50.726143+00:00" },
}
```