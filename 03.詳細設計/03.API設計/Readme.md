## API設計書：ボードゲーム情報API

### 1. 概要

DynamoDBに格納されたボードゲーム情報を取得するためのAPI。個別のボードゲーム情報取得と、ボードゲームリスト取得の2つの機能を提供します。

### 2. API一覧

#### 2.1. 個別ボードゲーム情報取得API

* **エンドポイント:** `GET /boardgames/{id}`
* **パラメータ:** 
    * `id` (path): 取得したいボードゲームのID
* **レスポンス:** 
    * 成功時
        * ステータスコード: 200 OK
        * レスポンスボディ: 指定されたIDのボードゲーム情報（JSON形式）
            ```json
            {
                "id": 1,
                "title_kana": "いんさいだーげーむ",
                "title": "インサイダーゲーム",
                "genre": ["正体隠匿", "パーティー", "推理"],
                "tags": ["Oink Games", "オインクゲームズ"],
                "images": ["./images/01_01.jpg", "./images/01_02.jpg"],
                "description": "あなたは、操られている。クイズと正体探し、2つの楽しさが絶妙にマッチした、短時間でみんなが盛り上がれる会話ゲーム。",
                "rules": "クイズと正体探し、ふたつの楽しさが絶妙にマッチした、短時間でみんなが盛り上がれる会話ゲーム。会話で進めていくクイズの中、陰で議論を思い通りに操作している狡猾なインサイダーが紛れこんでいます。インサイダーは、正体を隠しながら世論をうまく導こうとしているのです....！",
                "playerCount": {
                    "min": 4,
                    "max": 8,
                    "text": "3-4人"
                },
                "playTime": {
                    "min": 15,
                    "max": 15,
                    "text": "約15分"
                },
                "age": {
                    "min": 9,
                    "text": "9歳以上"
                },
                "difficulty": "中級",
                "recommendation": 4.5
            }
            ```
    * 失敗時
        * 指定されたIDのボードゲームが存在しない場合
            * ステータスコード: 404 Not Found
            * レスポンスボディ:
              ```json
              {
                  "error": "Boardgame not found"
              }
              ```
        * サーバー側で予期せぬエラーが発生した場合
            * ステータスコード: 500 Internal Server Error
            * レスポンスボディ:
                ```json
                {
                    "error": "Internal server error"
                }
                ```

#### 2.2. ボードゲームリスト取得API

* **エンドポイント:** `GET /boardgames`
* **パラメータ:** なし
* **レスポンス:** 
    * 成功時
        * ステータスコード: 200 OK
        * レスポンスボディ: ボードゲームリスト（JSON形式）
            * 各ボードゲーム情報は、`rules`を除く全てのデータを含む
            ```json
            [
                {
                    "id": 1,
                    "title_kana": "いんさいだーげーむ",
                    "title": "インサイダーゲーム",
                    "genre": ["正体隠匿", "パーティー", "推理"],
                    "tags": ["Oink Games", "オインクゲームズ"],
                    "images": ["./images/01_01.jpg", "./images/01_02.jpg"],
                    "description": "あなたは、操られている。クイズと正体探し、2つの楽しさが絶妙にマッチした、短時間でみんなが盛り上がれる会話ゲーム。",
                    "playerCount": {
                        "min": 4,
                        "max": 8,
                        "text": "3-4人"
                    },
                    "playTime": {
                        "min": 15,
                        "max": 15,
                        "text": "約15分"
                    },
                    "age": {
                        "min": 9,
                        "text": "9歳以上"
                    },
                    "difficulty": "中級",
                    "recommendation": 4.5
                },
                {
                    // ...他のボードゲーム情報
                }
            ]
            ```
    * 失敗時
        * サーバー側で予期せぬエラーが発生した場合
            * ステータスコード: 500 Internal Server Error
            * レスポンスボディ:
                ```json
                {
                    "error": "Internal server error"
                }
                ```

### 3. 認証・認可

* クレデンシャルな情報は提供しないが、ランダムなアクセスを防ぐためにAPIキーを設定する

### 4. その他の考慮事項

* エラーハンドリング: 発生しうるエラーを適切に処理し、エラーメッセージを返す
* パフォーマンス: DynamoDBへのクエリを最適化し、レスポンス時間を短縮する
* キャッシング: 動的なコンテンツではあるが、基本的には更新されないため、ある程度の期間CloudFrontディストリビューションでキャッシングを行い、レスポンス時間を短縮し、DynamoDBへの負荷を軽減する

### 5. 技術スタック例

* バックエンド: Python 3
* データベース: DynamoDB
* AWS Lambda, API Gateway